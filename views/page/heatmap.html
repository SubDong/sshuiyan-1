<!--页面分析-入口页面-指标概述-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <style>
        body, html, h2 {
            margin: 0;
            padding: 0;
            height: 100%;
        }

        body {
            font-family: sans-serif;
        }

        body * {
            font-weight: 200;
        }

        #heatmap {
            position: absolute;
            float: left;
            height: 99%;
            width: 99%;
            background: #000;
            filter: alpha(Opacity=80);
            -moz-opacity: 0.5;
            opacity: 0.5;
            overflow: hidden;
            z-index: 100;
        }

        .iframebox {
            position: relative;
            height: 100%;
            width: 100%;
        }

        #iframe {
            position: absolute;
            height: 100%;
            width: 100%;
        }
    </style>
    <script type="text/javascript" src="../js/heatmap/heatmap.js"></script>
</head>
<body style="margin:0px;padding:0px; width:100%;overflow:hidden" onload="parent.setsize(document.body.scrollHeight);">
<div class="iframebox">
    <div id="heatmap">
    </div>
    <iframe id="iframe" src="http://www.best-ad.cn/" frameborder="0" style="overflow:hidden;width:100%" height="100%"  width="100%">
    </iframe>
</div>
<script type="text/javascript">
    window.onload = function heatmaponlad() {
        document.onclick = function position(event){
            var e = event || window.event;
            var scrollX = document.documentElement.scrollLeft || document.body.scrollLeft;
            var scrollY = document.documentElement.scrollTop || document.body.scrollTop;
            var x = e.pageX || e.clientX + scrollX;
            var y = e.pageY || e.clientY + scrollY;
            var xx = h337.create({"element": document.getElementById("heatmap"), "radius": 25, "visible": true});
            var points = [];
            var max = 0;
            var val = Math.floor(Math.random() * 100);
            max = Math.max(max, val);
            var point = {
                x: x,
                y: y,
                value: val
            };
            points.push(point);
            if(points.length > 5){
                points = [];
            }
            var el = {max: max, data: points};
            xx.store.setDataSet(el);
        }
        document.getElementById("heatmap").style.height = document.getElementById("iframe").scrollHeight + "px";
        document.getElementById("heatmap").style.width = document.getElementById("iframe").scrollWidth + "px" - 10;
        console.log(document.getElementById("iframe"));

        /*        xx.get("canvas").onclick = function(ev){
         var pos = h337.util.mousePosition(ev);
         xx.store.addDataPoint(pos[0],pos[1]);
         };*/
        /*    document.getElementById("gen").onclick = function(){
         xx.store.generateRandomDataSet(100);
         };*/
    };
</script>
</body>
</html>


